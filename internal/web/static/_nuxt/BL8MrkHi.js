import{aZ as U,r as W,M as A,h as j,aa as $,e as k,bf as Z,bg as q,bh as B,bi as N,bj as G,bk as Q,bl as X,bm as V,bn as Y,bo as ee,bp as te,j as ne,O as L}from"./CJZMNHbM.js";function de(e={}){const{inheritAttrs:r=!0}=e,n=$(),b=k({setup(v,{slots:g}){return()=>{n.value=g.default}}}),f=k({inheritAttrs:r,props:e.props,setup(v,{attrs:g,slots:a}){return()=>{var o;n.value;const l=(o=n.value)==null?void 0:o.call(n,{...e.props==null?re(g):v,$slots:a});return r&&l?.length===1?l[0]:l}}});return Z({define:b,reuse:f},[b,f])}function re(e){const r={};for(const n in e)r[B(n)]=e[n];return r}const T=X?window:void 0;function ae(e){var r;const n=N(e);return(r=n?.$el)!=null?r:n}function x(...e){const r=[],n=()=>{r.forEach(a=>a()),r.length=0},b=(a,o,l,c)=>(a.addEventListener(o,l,c),()=>a.removeEventListener(o,l,c)),f=j(()=>{const a=V(N(e[0])).filter(o=>o!=null);return a.every(o=>typeof o!="string")?a:void 0}),v=Y(()=>{var a,o;return[(o=(a=f.value)==null?void 0:a.map(l=>ae(l)))!=null?o:[T].filter(l=>l!=null),V(N(f.value?e[1]:e[0])),V(ne(f.value?e[2]:e[1])),N(f.value?e[3]:e[2])]},([a,o,l,c])=>{if(n(),!a?.length||!o?.length||!l?.length)return;const S=te(c)?{...c}:c;r.push(...a.flatMap(O=>o.flatMap(s=>l.map(h=>b(O,s,h,S)))))},{flush:"post"}),g=()=>{v(),n()};return ee(n),g}function le(e){return JSON.parse(JSON.stringify(e))}const J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M="__vueuse_ssr_handlers__",oe=ie();function ie(){return M in J||(J[M]=J[M]||{}),J[M]}function ue(e,r){return oe[e]||r}function se(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const fe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},F="vueuse-storage";function pe(e,r,n,b={}){var f;const{flush:v="pre",deep:g=!0,listenToStorageChanges:a=!0,writeDefaults:o=!0,mergeDefaults:l=!1,shallow:c,window:S=T,eventFilter:O,onError:s=t=>{console.error(t)},initOnMounted:h}=b,d=(c?$:W)(typeof r=="function"?r():r),p=j(()=>N(e));if(!n)try{n=ue("getDefaultStorage",()=>{var t;return(t=T)==null?void 0:t.localStorage})()}catch(t){s(t)}if(!n)return d;const y=N(r),C=se(y),i=(f=b.serializer)!=null?f:fe[C],{pause:_,resume:E}=G(d,t=>I(t),{flush:v,deep:g,eventFilter:O});A(p,()=>D(),{flush:v});let w=!1;const R=t=>{h&&!w||D(t)},H=t=>{h&&!w||P(t)};S&&a&&(n instanceof Storage?x(S,"storage",R,{passive:!0}):x(S,F,H)),h?Q(()=>{w=!0,D()}):D();function z(t,u){if(S){const m={key:p.value,oldValue:t,newValue:u,storageArea:n};S.dispatchEvent(n instanceof Storage?new StorageEvent("storage",m):new CustomEvent(F,{detail:m}))}}function I(t){try{const u=n.getItem(p.value);if(t==null)z(u,null),n.removeItem(p.value);else{const m=i.write(t);u!==m&&(n.setItem(p.value,m),z(u,m))}}catch(u){s(u)}}function K(t){const u=t?t.newValue:n.getItem(p.value);if(u==null)return o&&y!=null&&n.setItem(p.value,i.write(y)),y;if(!t&&l){const m=i.read(u);return typeof l=="function"?l(m,y):C==="object"&&!Array.isArray(m)?{...y,...m}:m}else return typeof u!="string"?u:i.read(u)}function D(t){if(!(t&&t.storageArea!==n)){if(t&&t.key==null){d.value=y;return}if(!(t&&t.key!==p.value)){_();try{const u=i.write(d.value);(t===void 0||t?.newValue!==u)&&(d.value=K(t))}catch(u){s(u)}finally{t?L(E):E()}}}}function P(t){D(t.detail)}return d}function me(e,r,n,b={}){var f,v,g;const{clone:a=!1,passive:o=!1,eventName:l,deep:c=!1,defaultValue:S,shouldEmit:O}=b,s=U(),h=n||s?.emit||((f=s?.$emit)==null?void 0:f.bind(s))||((g=(v=s?.proxy)==null?void 0:v.$emit)==null?void 0:g.bind(s?.proxy));let d=l;d=d||`update:${r.toString()}`;const p=i=>a?typeof a=="function"?a(i):le(i):i,y=()=>q(e[r])?p(e[r]):S,C=i=>{O?O(i)&&h(d,i):h(d,i)};if(o){const i=y(),_=W(i);let E=!1;return A(()=>e[r],w=>{E||(E=!0,_.value=p(w),L(()=>E=!1))}),A(_,w=>{!E&&(w!==e[r]||c)&&C(w)},{deep:c}),_}else return j({get(){return y()},set(i){C(i)}})}export{pe as a,de as c,me as u};
