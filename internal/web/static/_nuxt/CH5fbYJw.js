import{e as h,f as y,o as d,w as o,a as t,n as C,b as l,g as U,t as f,h as k,r as S,i as O,d as p,j as u,k as j,_ as F,c as g,F as D,l as V,m as B,p as w}from"./CJZMNHbM.js";import{_ as A,$ as z,u as $}from"./CVSjB_cP.js";import{_ as N}from"./Lm7kDJL3.js";const L={class:"flex items-center gap-4"},P={class:"text-sm text-gray-500 dark:text-gray-400"},T={class:"text-2xl font-bold"},E=h({__name:"StatCard",props:{label:{},value:{},icon:{},color:{default:"primary"}},setup(a){return(s,i)=>{const m=U,n=A;return d(),y(n,null,{default:o(()=>[t("div",L,[t("div",{class:C(["flex items-center justify-center w-12 h-12 rounded-lg",`bg-${a.color}-100 dark:bg-${a.color}-900/20`])},[l(m,{name:a.icon,class:C(["w-6 h-6",`text-${a.color}-500`])},null,8,["name","class"])],2),t("div",null,[t("p",P,f(a.label),1),t("p",T,f(a.value),1)])])]),_:1})}}}),M=Object.assign(E,{__name:"DashboardStatCard"}),q={class:"flex items-center justify-between"},G={class:"space-y-4"},H={class:"flex items-center justify-between"},J={class:"flex items-center justify-between"},K={class:"flex items-center justify-between"},Q={class:"flex items-center gap-2"},W={class:"font-mono text-sm"},X=h({__name:"SystemStatus",props:{health:{},systemInfo:{}},setup(a){const s=a,i=k(()=>s.health?.podman==="connected"?"Connected":"Disconnected"),m=S(null),n=S(!1),_=async()=>{n.value=!0;try{m.value=await z("/system/version")}catch{}finally{n.value=!1}};return O(()=>{_()}),(x,e)=>{const r=N,c=F,b=A;return d(),y(b,null,{header:o(()=>[t("div",q,[e[1]||(e[1]=t("h3",{class:"font-semibold"},"System Status",-1)),u(m)?.updateAvailable?(d(),y(r,{key:0,color:"warning"},{default:o(()=>[...e[0]||(e[0]=[p(" Update Available ",-1)])]),_:1})):j("",!0)])]),footer:o(()=>[l(c,{to:"/settings",class:"text-sm text-gray-500 hover:text-primary-500"},{default:o(()=>[...e[6]||(e[6]=[p(" View all settings ",-1)])]),_:1})]),default:o(()=>[t("div",G,[t("div",H,[e[2]||(e[2]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Podman",-1)),l(r,{color:a.health?.podman==="connected"?"success":"error"},{default:o(()=>[p(f(u(i)),1)]),_:1},8,["color"])]),t("div",J,[e[4]||(e[4]=t("span",{class:"text-gray-600 dark:text-gray-400"},"API",-1)),l(r,{color:"success"},{default:o(()=>[...e[3]||(e[3]=[p("Running",-1)])]),_:1})]),t("div",K,[e[5]||(e[5]=t("span",{class:"text-gray-600 dark:text-gray-400"},"Version",-1)),t("div",Q,[t("span",W,"v"+f(u(m)?.current||a.systemInfo?.version||"0.1.0"),1),u(m)?.updateAvailable?(d(),y(c,{key:0,to:"/settings",class:"text-xs text-primary-500 hover:underline"},{default:o(()=>[p(" Update to v"+f(u(m)?.latest),1)]),_:1})):j("",!0)])])])]),_:1})}}}),Y=Object.assign(X,{__name:"DashboardSystemStatus"}),Z={class:"flex items-center justify-between"},tt={key:0,class:"space-y-3"},et={class:"flex items-center gap-3"},st={class:"font-medium"},nt={class:"text-sm text-gray-500"},ot={key:1,class:"text-center py-8 text-gray-500"},at=h({__name:"RecentApps",props:{apps:{},limit:{default:5}},setup(a){const s=a,i=k(()=>s.apps.slice(0,s.limit));return(m,n)=>{const _=B,x=U,e=N,r=A;return d(),y(r,null,{header:o(()=>[t("div",Z,[n[1]||(n[1]=t("h3",{class:"font-semibold"},"Recent Apps",-1)),l(_,{to:"/apps",variant:"ghost",size:"sm","trailing-icon":"i-heroicons-arrow-right"},{default:o(()=>[...n[0]||(n[0]=[p(" View All ",-1)])]),_:1})])]),default:o(()=>[u(i).length?(d(),g("div",tt,[(d(!0),g(D,null,V(u(i),c=>(d(),g("div",{key:c.id,class:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800"},[t("div",et,[l(x,{name:"i-heroicons-cube",class:"w-5 h-5 text-gray-400"}),t("div",null,[t("p",st,f(c.name),1),t("p",nt,f(c.domain||"No domain"),1)])]),l(e,{color:c.status==="running"?"success":c.status==="stopped"?"warning":"neutral"},{default:o(()=>[p(f(c.status),1)]),_:2},1032,["color"])]))),128))])):(d(),g("div",ot,[l(x,{name:"i-heroicons-inbox",class:"w-12 h-12 mx-auto mb-2 opacity-50"}),n[3]||(n[3]=t("p",null,"No apps yet",-1)),l(_,{to:"/apps",variant:"soft",class:"mt-2"},{default:o(()=>[...n[2]||(n[2]=[p(" Create your first app ",-1)])]),_:1})]))]),_:1})}}}),lt=Object.assign(at,{__name:"DashboardRecentApps"}),it={class:"flex items-center justify-between mb-6"},rt={class:"flex gap-2"},ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8"},dt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},_t=h({__name:"index",async setup(a){let s,i;const{data:m}=([s,i]=w(()=>$("/health")),s=await s,i(),s),{data:n}=([s,i]=w(()=>$("/system/info")),s=await s,i(),s),{data:_}=([s,i]=w(()=>$("/apps")),s=await s,i(),s),x=k(()=>[{label:"Total Apps",value:_.value?.total||0,icon:"i-heroicons-cube",color:"primary"},{label:"Running",value:_.value?.apps?.filter(e=>e.status==="running").length||0,icon:"i-heroicons-play-circle",color:"success"},{label:"Containers",value:n.value?.containers||0,icon:"i-heroicons-server",color:"info"},{label:"Images",value:n.value?.images||0,icon:"i-heroicons-photo",color:"warning"}]);return(e,r)=>{const c=B,b=M,I=Y,R=lt;return d(),g("div",null,[t("div",it,[r[2]||(r[2]=t("div",null,[t("h2",{class:"text-xl font-semibold"},"Dashboard"),t("p",{class:"text-gray-500 dark:text-gray-400"},"Overview of your deployment platform")],-1)),t("div",rt,[l(c,{to:"/apps",variant:"outline",icon:"i-heroicons-rectangle-stack"},{default:o(()=>[...r[0]||(r[0]=[p(" View All Apps ",-1)])]),_:1}),l(c,{to:"/templates",icon:"i-heroicons-plus"},{default:o(()=>[...r[1]||(r[1]=[p(" Deploy New App ",-1)])]),_:1})])]),t("div",ct,[(d(!0),g(D,null,V(u(x),v=>(d(),y(b,{key:v.label,label:v.label,value:v.value,icon:v.icon,color:v.color},null,8,["label","value","icon","color"]))),128))]),t("div",dt,[l(I,{health:u(m),"system-info":u(n)},null,8,["health","system-info"]),l(R,{apps:u(_)?.apps||[]},null,8,["apps"])])])}}});export{_t as default};
